<!DOCTYPE html>
<html>
<head>
  <title>All Categories</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
    }
    .category-card {
      border: 1px solid #ccc;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 6px;
    }
    .category-card h3 {
      margin: 0;
    }
    .buttons {
      margin-top: 10px;
    }
    .buttons a {
      margin-right: 10px;
      text-decoration: none;
      color: white;
      background: #007bff;
      padding: 6px 12px;
      border-radius: 4px;
    }
    .buttons a:hover {
      background-color: #0056b3;
    }
    .buttons form {
      display: inline;
    }
    .pagination a {
      margin-right: 8px;
      text-decoration: none;
    }
  </style>
</head>
<body>

  <h1>📁 Categories</h1>

  <a href="/categories/new">➕ Add New Category</a>

  <% if (data.length === 0) { %>
    <p>No categories available.</p>
  <% } else { %>
    <% data.forEach(category => { %>
      <div class="category-card">
        <h3><%= category.category_name %></h3>
        <div class="buttons">
          <a href="/category/<%= category.category_id %>/items">📦 View Items</a>
          <a href="/category/<%= category.category_id %>/edit">✏️ Edit</a>
          <form action="/category/<%= category.category_id %>?_method=DELETE" method="POST" onsubmit="return confirm('Are you sure?')">
            <button type="submit">🗑️ Delete</button>
          </form>
        </div>
      </div>
    <% }) %>
  <% } %>

  <!-- Pagination -->
  <div class="pagination">
    <% for (let i = 1; i <= totalPages; i++) { %>
      <% if (i === page) { %>
        <strong><%= i %></strong>
      <% } else { %>
        <a href="/categories?page=<%= i %>"><%= i %></a>
      <% } %>
    <% } %>
  </div>

</body>
</html>
